(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{436:function(t,e,a){t.exports=a.p+"assets/img/register.12da97aa.jpg"},505:function(t,e,a){"use strict";a.r(e);var s=a(2),r=Object(s.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"组件介绍"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#组件介绍"}},[t._v("#")]),t._v(" 组件介绍")]),t._v(" "),e("p",[t._v("用户注册。")]),t._v(" "),e("img",{staticStyle:{zoom:"67%"},attrs:{src:a(436)}}),t._v(" "),e("h2",{attrs:{id:"进入离开组件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#进入离开组件"}},[t._v("#")]),t._v(" 进入离开组件")]),t._v(" "),e("p",[t._v("1、由Header组件，路由跳转进入；参数：无")]),t._v(" "),e("p",[t._v("2、跳转进入Login路由组件；参数：无")]),t._v(" "),e("h2",{attrs:{id:"数据"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#数据"}},[t._v("#")]),t._v(" 数据")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("名称")]),t._v(" "),e("th",[t._v("数据类型")]),t._v(" "),e("th",[t._v("所属")]),t._v(" "),e("th",[t._v("数据介绍")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("phone")]),t._v(" "),e("td",[t._v("string")]),t._v(" "),e("td",[t._v("data")]),t._v(" "),e("td",[t._v("从页面表单上获取的用户输入的手机号")])]),t._v(" "),e("tr",[e("td",[t._v("code")]),t._v(" "),e("td",[t._v("string")]),t._v(" "),e("td",[t._v("data")]),t._v(" "),e("td",[t._v("用户输入的验证码")])]),t._v(" "),e("tr",[e("td",[t._v("password")]),t._v(" "),e("td",[t._v("string")]),t._v(" "),e("td",[t._v("data")]),t._v(" "),e("td",[t._v("用户输入的密码")])]),t._v(" "),e("tr",[e("td",[t._v("password2")]),t._v(" "),e("td",[t._v("string")]),t._v(" "),e("td",[t._v("data")]),t._v(" "),e("td",[t._v("用户输入的确认密码")])]),t._v(" "),e("tr",[e("td",[t._v("agree")]),t._v(" "),e("td",[t._v("boolean")]),t._v(" "),e("td",[t._v("data")]),t._v(" "),e("td",[t._v("用户是否勾选同意协议")])]),t._v(" "),e("tr",[e("td",[t._v("phoneError")]),t._v(" "),e("td",[t._v("string")]),t._v(" "),e("td",[t._v("computed")]),t._v(" "),e("td",[t._v("phone不符合格式存在的问题")])]),t._v(" "),e("tr",[e("td",[t._v("passwordError")]),t._v(" "),e("td",[t._v("string")]),t._v(" "),e("td",[t._v("computed")]),t._v(" "),e("td",[t._v("password不符合格式存在的问题")])])])]),t._v(" "),e("h2",{attrs:{id:"api"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#api"}},[t._v("#")]),t._v(" API")]),t._v(" "),e("p",[t._v("1、获取注册验证码")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('地址：/api/user/passport/sendCode/{phone}  请求方式：get   需要带参数phone\nexport const reqGetCode = (phone) =>\n  requests({ url: `/cart/user/passport/sendCode/${phone}`, method: "get" });\n// 服务器收到请求后，会将验证码作为data返回浏览器\n')])])]),e("p",[t._v("2、用户注册")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('地址：/api/user/passport/register  请求方式：post   需要带参数data{ phone, password, code }\nexport const reqUserRegister = (data) =>\n  requests({ url: "/user/passport/register/", data, method: "post" });\n')])])]),e("h2",{attrs:{id:"vuex"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vuex"}},[t._v("#")]),t._v(" vuex")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("vuex-user：\n1、actions\n1.1、getCode\n调用API-获取注册验证码；服务器返回请求成功，则调用mutations-GETCODE\n1.2、userRegister\n调用API-用户注册；服务器返回请求成功，则通知组件成功\n\n2、mutations\n2.1、GETCODE\n将服务器返回的验证码保存到state的testCodeFromServer中，以供其他组件调用\n\n3、state\ntestCodeFromServer:'' \t\t\t// 服务器返回的验证码，字符串\n")])])]),e("h2",{attrs:{id:"methods"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#methods"}},[t._v("#")]),t._v(" methods")]),t._v(" "),e("p",[t._v("1、getCode()\t获取注册验证码")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("1、参数：无\n\n2、函数内容：\n\n2.1、dispatch触发getCode；\n2.3、请求返回成功，组件获取vuex-state-testCodeFromServer，并将其填入页面上的验证码输入框；\n")])])]),e("p",[t._v("2、userRegister()\t用户注册")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("1、参数：无\n\n2、函数内容：\n2.2、dispatch触发userRegister；\n2.3、请求返回成功，路由跳转至Login路由组件。\n")])])]),e("h2",{attrs:{id:"功能点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#功能点"}},[t._v("#")]),t._v(" 功能点：")]),t._v(" "),e("p",[t._v("1、获取注册验证码")]),t._v(" "),e("p",[t._v("用户点击按钮，调用vuex的getCode；vuex调用获取注册验证码的API，向服务器发送请求；服务器返回成功则将返回的data保存到state中；本组件的data获取vuex-state数据；页面在展示时，使用相应的属性即可。")]),t._v(" "),e("p",[t._v("2、用户注册\n用户点击按钮，调用vuex的userRegister；vuex调用用户注册的API，向服务器发送请求；组件获取服务器的请求返回结果，如果成功，组件跳转至登录路由组件")])])}),[],!1,null,null,null);e.default=r.exports}}]);