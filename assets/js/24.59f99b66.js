(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{432:function(t,a,e){t.exports=e.p+"assets/img/search.9cc0b74b.jpg"},501:function(t,a,e){"use strict";e.r(a);var v=e(2),s=Object(v.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"组件介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#组件介绍"}},[t._v("#")]),t._v(" 组件介绍")]),t._v(" "),a("p",[t._v("商品搜索结果的展示页，包括商品结果分页展示、对商品结果进行细分搜索等。")]),t._v(" "),a("img",{staticStyle:{zoom:"40%"},attrs:{src:e(432)}}),t._v(" "),a("h2",{attrs:{id:"进入离开组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#进入离开组件"}},[t._v("#")]),t._v(" 进入离开组件")]),t._v(" "),a("p",[t._v("1、由TypeNav组件，路由跳转进入；参数：category1Id 一级分类导航被选择的标签id，category2Id 二级分类的id，category3Id 三级分类的id，categoryName 分类导航选择的分类名")]),t._v(" "),a("p",[t._v("2、由Header组件，路由跳转进入；参数：搜索关键字keyword。")]),t._v(" "),a("p",[t._v("3、跳转进入Detail路由组件；参数：商品id。")]),t._v(" "),a("h2",{attrs:{id:"子组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#子组件"}},[t._v("#")]),t._v(" 子组件")]),t._v(" "),a("p",[t._v("SearchSelector搜索条件筛选组件、Pagination分页器组件、TypeNav三级导航分类静态组件")]),t._v(" "),a("h2",{attrs:{id:"生命周期"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#生命周期"}},[t._v("#")]),t._v(" 生命周期")]),t._v(" "),a("p",[t._v("1、mounted ()")]),t._v(" "),a("p",[t._v("1.1、保存路由跳转进入时携带的参数，保存在data中。")]),t._v(" "),a("p",[t._v("1.2、调用getData方法，调用vuex-actions-getSearchList：向服务器发送”搜索商品结果数据“的网络请求，如果服务器返回的result正常，则将返回的data保存到state中，以供组件使用。")]),t._v(" "),a("h2",{attrs:{id:"数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据"}},[t._v("#")]),t._v(" 数据")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("名称")]),t._v(" "),a("th",[t._v("数据类型")]),t._v(" "),a("th",[t._v("所属")]),t._v(" "),a("th",[t._v("数据介绍")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("searchParams")]),t._v(" "),a("td",[t._v("对象")]),t._v(" "),a("td",[t._v("data")]),t._v(" "),a("td",[t._v("搜索条件：由其他组件路由跳转进入时携带的参数/搜索子选择组件的筛选条件/分页器参数")])]),t._v(" "),a("tr",[a("td",[t._v("goodsList")]),t._v(" "),a("td",[t._v("数组")]),t._v(" "),a("td",[t._v("computed")]),t._v(" "),a("td",[t._v("组件从仓库state中获取的商品搜索结果数据")])]),t._v(" "),a("tr",[a("td",[t._v("orderLabelOne/orderLabelTwo")]),t._v(" "),a("td",[t._v("布尔值")]),t._v(" "),a("td",[t._v("computed")]),t._v(" "),a("td",[t._v("综合/销量排序标签是否被选中")])]),t._v(" "),a("tr",[a("td",[t._v("orderLabelAsc/orderLabelDesc")]),t._v(" "),a("td",[t._v("布尔值")]),t._v(" "),a("td",[t._v("computed")]),t._v(" "),a("td",[t._v("升/降序排序标签是否被选中")])]),t._v(" "),a("tr",[a("td",[t._v("total")]),t._v(" "),a("td",[t._v("数值")]),t._v(" "),a("td",[t._v("computed")]),t._v(" "),a("td",[t._v("组件从仓库state中获取的商品搜索结果总数")])])])]),t._v(" "),a("h2",{attrs:{id:"api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api"}},[t._v("#")]),t._v(" API")]),t._v(" "),a("p",[t._v("1、获取搜索结果商品数据")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('地址：/api/list   请求方式：post    需要带参数data\nexport const reqGetSearchInfo = () =>\n  requests({ url: "/list", method: "post", data});\n')])])]),a("h2",{attrs:{id:"vuex"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vuex"}},[t._v("#")]),t._v(" vuex")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("vuex-search：\n1、actions\n1.1、getSearchList\n调用API-获取搜索结果商品数据；服务器返回请求成功，则调用mutations-GETSEARCHLIST\n \n2、mutations\n2.1、GETSEARCHLIST\n将服务器返回的搜索商品结果数据保存到state的searchList中，以供其他组件调用\n\n3、state\nsearchList: {}, \t\t// 搜索结果商品数据，对象\n\n4、getters\ngoodsList\t\t\t\t// 搜索结果子商品数据，数组\t\t\ntrademarkList\t\t\t// 搜索结果子品牌数据，数组\nattrsList\t\t\t\t// 搜索结果子属性数据，数组\n")])])]),a("h2",{attrs:{id:"methods"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#methods"}},[t._v("#")]),t._v(" methods")]),t._v(" "),a("p",[t._v("1、getData()\t向服务器获取搜索结果商品数据")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("1、参数：无\n\n2、函数内容：\n2.1、dispatch触发getSearchList；\n")])])]),a("p",[t._v("2、trademarkShow(trademark)\t点击SearchSelector子组件的品牌，更新搜索条件，向服务器获取搜索结果商品数据")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("1、参数：trademark，子组件传递过来的加入搜索条件的品牌数据\n\n2、函数内容：\n2.1、获得子组件传递过来的数据，整理参数，更新data-搜索条件；\n2.2、调用getData()，向服务器获取搜索结果商品数据；\n")])])]),a("p",[t._v("3、attrShow(attr, attrValue)\t点击SearchSelector子组件的商品属性，更新搜索条件，向服务器获取搜索结果商品数据")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("1、参数：attr, attrValue，子组件传递过来的加入搜索条件的商品属性数据\n\n2、函数内容：\n2.1、获得子组件传递过来的数据，整理参数，更新data-搜索条件；\n2.2、调用getData()，向服务器获取搜索结果商品数据；\n")])])]),a("p",[t._v("4、pageShow(pageNo)\t点击分页器Pagination子组件的页码，更新搜索条件，向服务器获取搜索结果商品数据")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("1、参数：pageNo，子组件传递过来的加入搜索条件的页码数据\n\n2、函数内容：\n2.1、获得子组件传递过来的数据，整理参数，更新data-搜索条件；\n2.2、调用getData()，向服务器获取搜索结果商品数据；\n")])])]),a("p",[t._v("5、removeCategoryName()\t点击去除面包屑导航里的搜索分类标签，更新搜索条件，向服务器获取搜索结果商品数据，刷新本路由组件")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("1、参数：无\n\n2、函数内容：\n2.1、整理参数，更新data-搜索条件；\n2.2、调用getData()，向服务器获取搜索结果商品数据；\n2.3、跳转向本路由组件，以改变url路径中的搜索分类数据\n")])])]),a("p",[t._v("6、removeKeyword()\t点击去除面包屑导航里的搜索关键字标签，更新搜索条件，向服务器获取搜索结果商品数据，刷新本路由组件")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("1、参数：无\n\n2、函数内容：\n2.1、整理参数，更新data-搜索条件；\n2.2、调用getData()，向服务器获取搜索结果商品数据；\n2.3、跳转向本路由组件，以改变url路径中的搜索关键字数据\n")])])]),a("p",[t._v("7、removeTrademark()\t点击去除面包屑导航里的搜索品牌标签，更新搜索条件，向服务器获取搜索结果商品数据")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("1、参数：无\n\n2、函数内容：\n2.1、整理参数，更新data-搜索条件；\n2.2、调用getData()，向服务器获取搜索结果商品数据；\n")])])]),a("p",[t._v("8、removeAttr()\t点击去除面包屑导航里的搜索商品属性标签，更新搜索条件，向服务器获取搜索结果商品数据")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("1、参数：无\n\n2、函数内容：\n2.1、整理参数，更新data-搜索条件；\n2.2、调用getData()，向服务器获取搜索结果商品数据；\n")])])]),a("p",[t._v("9、changeOrder(index)\t点击更换商品结构排序，更新搜索条件，向服务器获取搜索结果商品数据")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("1、参数：index，识别排序标签的数据\n\n2、函数内容：\n2.1、整理参数，更新data-搜索条件；\n2.2、调用getData()，向服务器获取搜索结果商品数据；\n")])])]),a("h2",{attrs:{id:"watch"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#watch"}},[t._v("#")]),t._v(" watch")]),t._v(" "),a("p",[t._v("1、$route 监听路由的变化，以实现搜索关键字、搜索TypeNav分类导航，更新搜索条件，向服务器获取搜索结果商品数据")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("1、参数：无\n\n2、函数内容：\n2.1、整理参数，更新data-搜索条件；\n2.2、调用getData()，向服务器获取搜索结果商品数据；\n")])])]),a("h2",{attrs:{id:"功能点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#功能点"}},[t._v("#")]),t._v(" 功能点")]),t._v(" "),a("p",[t._v("1、页面数据动态展示")]),t._v(" "),a("p",[t._v("组件在mounted阶段，保存路由跳转进入时携带的参数，保存在data中；调用vuex的getSearchList；vuex调用获取搜索商品结果数据的API，向服务器发送请求；服务器返回成功则将返回的data保存到state中；本组件的computed获取vuex-state数据，并保存为计算属性；页面在展示时，使用相应的属性即可。")]),t._v(" "),a("p",[t._v("2、搜索关键字、搜索TypeNav分类导航")]),t._v(" "),a("p",[t._v("用户搜索关键字/点击商品分类导航内某一分类，搜索框及分类导航所在的组件将关键字及选中的分类属性加入到跳转要携带的参数中；更新路由url；获取路由路径刷新时携带的新参数，更新data；然后向服务器获取搜索结果商品数据，刷新页面。")]),t._v(" "),a("p",[t._v("3、SearchSelector子组件的商品筛选")]),t._v(" "),a("p",[t._v("用户点击选择SearchSelector子组件的商品筛选条件，更新data；然后向服务器获取搜索结果商品数据，刷新页面。")]),t._v(" "),a("p",[t._v("4、去除面包屑导航的搜索标签")]),t._v(" "),a("p",[t._v("用户点击去除面包屑导航的搜索标签，更新data；然后向服务器获取搜索结果商品数据，刷新页面。")]),t._v(" "),a("p",[t._v("5、更换页码")]),t._v(" "),a("p",[t._v("用户点击更换页码，更新data；然后向服务器获取搜索结果商品数据，刷新页面。")]),t._v(" "),a("p",[t._v("6、更换商品结果排序")]),t._v(" "),a("p",[t._v("用户点击商品结果排序，更新data；然后向服务器获取搜索结果商品数据，刷新页面。")]),t._v(" "),a("h2",{attrs:{id:"子组件searchselector"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#子组件searchselector"}},[t._v("#")]),t._v(" 子组件SearchSelector")]),t._v(" "),a("h3",{attrs:{id:"进入组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#进入组件"}},[t._v("#")]),t._v(" 进入组件")]),t._v(" "),a("p",[t._v("作为Search路由组件的子组件固定展示；参数：父组件Search添加的自定义事件getTrademark、getAttr。")]),t._v(" "),a("h3",{attrs:{id:"数据-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据-2"}},[t._v("#")]),t._v(" 数据")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("名称")]),t._v(" "),a("th",[t._v("数据类型")]),t._v(" "),a("th",[t._v("所属")]),t._v(" "),a("th",[t._v("数据介绍")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("trademarkList")]),t._v(" "),a("td",[t._v("数组")]),t._v(" "),a("td",[t._v("computed")]),t._v(" "),a("td",[t._v("组件从vuex中获取到的服务器返回的商品品牌数据")])]),t._v(" "),a("tr",[a("td",[t._v("attrsList")]),t._v(" "),a("td",[t._v("数组")]),t._v(" "),a("td",[t._v("computed")]),t._v(" "),a("td",[t._v("组件从vuex中获取到的服务器返回的商品属性数据")])])])]),t._v(" "),a("h3",{attrs:{id:"methods-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#methods-2"}},[t._v("#")]),t._v(" methods")]),t._v(" "),a("p",[t._v("1、trademarkClick(trademark)\t点击品牌，触发父组件Search绑定的自定义事件，向其传递数据")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("1、参数：trademark，用户点击的品牌数据\n\n2、函数内容：\n2.1、触发父组件Search绑定的自定义事件getTrademark，向其传递数据\n")])])]),a("p",[t._v("2、attrClick(attr, attrValue)\t点击商品属性，触发父组件Search绑定的自定义事件，向其传递数据")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("1、参数：attr, attrValue，用户点击的商品属性数据\n\n2、函数内容：\n2.1、触发父组件Search绑定的自定义事件getAttr，向其传递数据\n")])])]),a("h3",{attrs:{id:"功能点-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#功能点-2"}},[t._v("#")]),t._v(" 功能点")]),t._v(" "),a("p",[t._v("1、页面数据动态展示")]),t._v(" "),a("p",[t._v("组件的computed获取vuex-state数据，并保存为计算属性；页面在展示时，使用相应的属性即可。")]),t._v(" "),a("p",[t._v("2、点击品牌进行搜索条件筛选")]),t._v(" "),a("p",[t._v("触发父组件Search绑定的自定义事件getTrademark，向其传递用户点击的品牌数据")]),t._v(" "),a("p",[t._v("3、点击商品属性进行搜索条件筛选")]),t._v(" "),a("p",[t._v("触发父组件Search绑定的自定义事件getAttr，向其传递用户点击的商品属性数据")]),t._v(" "),a("h2",{attrs:{id:"子组件pagination"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#子组件pagination"}},[t._v("#")]),t._v(" 子组件Pagination")]),t._v(" "),a("h3",{attrs:{id:"进入组件-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#进入组件-2"}},[t._v("#")]),t._v(" 进入组件")]),t._v(" "),a("p",[t._v("作为Search路由组件的子组件固定展示；参数：父组件Search添加的自定义事件getPageNo，父组件Search传递的数据pageNo、pageSize、total、continues。")]),t._v(" "),a("h3",{attrs:{id:"数据-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据-3"}},[t._v("#")]),t._v(" 数据")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("名称")]),t._v(" "),a("th",[t._v("数据类型")]),t._v(" "),a("th",[t._v("所属")]),t._v(" "),a("th",[t._v("数据介绍")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("pageNo")]),t._v(" "),a("td",[t._v("数值")]),t._v(" "),a("td",[t._v("props")]),t._v(" "),a("td",[t._v("目前所在第几页")])]),t._v(" "),a("tr",[a("td",[t._v("pageSize")]),t._v(" "),a("td",[t._v("数值")]),t._v(" "),a("td",[t._v("props")]),t._v(" "),a("td",[t._v("每页展示的数据个数")])]),t._v(" "),a("tr",[a("td",[t._v("total")]),t._v(" "),a("td",[t._v("数值")]),t._v(" "),a("td",[t._v("props")]),t._v(" "),a("td",[t._v("总共要展示的数据个数")])]),t._v(" "),a("tr",[a("td",[t._v("continues")]),t._v(" "),a("td",[t._v("数值")]),t._v(" "),a("td",[t._v("props")]),t._v(" "),a("td",[t._v("页码连续展示多少页")])]),t._v(" "),a("tr",[a("td",[t._v("totalPage")]),t._v(" "),a("td",[t._v("数值")]),t._v(" "),a("td",[t._v("computed")]),t._v(" "),a("td",[t._v("总共要展示的页数")])]),t._v(" "),a("tr",[a("td",[t._v("startNumAndEndNum")]),t._v(" "),a("td",[t._v("对象")]),t._v(" "),a("td",[t._v("computed")]),t._v(" "),a("td",[t._v("连续页码中的起始与结束页位置")])])])]),t._v(" "),a("h3",{attrs:{id:"methods-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#methods-3"}},[t._v("#")]),t._v(" methods")]),t._v(" "),a("p",[t._v("1、prePageClick()\t点击上一页")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("1、参数：无\n\n2、函数内容：\n2.1、触发父组件Search绑定的自定义事件getPageNo，向其传递pageNo - 1\n")])])]),a("p",[t._v("2、pageOneClick()\t点击第一页")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("1、参数：无\n\n2、函数内容：\n2.1、触发父组件Search绑定的自定义事件getPageNo，向其传递pageNo:1\n")])])]),a("p",[t._v("3、pageClick(index)\t点击中间的连续页")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("1、参数：index，点击的页码\n\n2、函数内容：\n2.1、触发父组件Search绑定的自定义事件getPageNo，向其传递pageNo:index\n")])])]),a("p",[t._v("4、pageEndClick()\t点击最后一页")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("1、参数：无\n\n2、函数内容：\n2.1、触发父组件Search绑定的自定义事件getPageNo，向其传递pageNo:totalPage\n")])])]),a("p",[t._v("3、nextPageClick()\t点击下一页")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("1、参数：无\n\n2、函数内容：\n2.1、触发父组件Search绑定的自定义事件getPageNo，向其传递pageNo + 1\n")])])]),a("h3",{attrs:{id:"功能点-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#功能点-3"}},[t._v("#")]),t._v(" 功能点")]),t._v(" "),a("p",[t._v("1、分页器数据动态展示")]),t._v(" "),a("p",[t._v("组件的props获取父组件传递过来的pageNo、pageSize、total、continues数据；computed计算出totalPage总共页数、startNumAndEndNum连续页码中的起始与结束位置；展示分页器时，使用相应的属性即可。")]),t._v(" "),a("p",[t._v("2、点击上一页/下一页等按钮")]),t._v(" "),a("p",[t._v("触发父组件Search绑定的自定义事件getPageNo，向其传递用户点击后的页码。")])])}),[],!1,null,null,null);a.default=s.exports}}]);