(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{462:function(t,a,s){t.exports=s.p+"assets/img/header.d7b1568f.png"},521:function(t,a,s){"use strict";s.r(a);var e=s(2),r=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"组件介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#组件介绍"}},[t._v("#")]),t._v(" 组件介绍")]),t._v(" "),a("p",[t._v("页面顶部信息展示，包括用户信息、登录注册按钮、搜索栏等。")]),t._v(" "),a("p",[a("img",{attrs:{src:s(462),alt:""}})]),t._v(" "),a("h2",{attrs:{id:"进入离开组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#进入离开组件"}},[t._v("#")]),t._v(" 进入离开组件")]),t._v(" "),a("p",[t._v("1、作为App.vue的子组件固定展示。")]),t._v(" "),a("p",[t._v("2、跳转进入Search路由组件；参数：搜索关键字keyword")]),t._v(" "),a("h2",{attrs:{id:"生命周期"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#生命周期"}},[t._v("#")]),t._v(" 生命周期")]),t._v(" "),a("p",[t._v("1、mounted ()\t绑定$bus自定义事件clearSearchInput（设置Search组件在清空其面包屑导航时，触发clearSearchInput，本组件同时清空搜索栏）")]),t._v(" "),a("h2",{attrs:{id:"数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据"}},[t._v("#")]),t._v(" 数据")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("名称")]),t._v(" "),a("th",[t._v("数据类型")]),t._v(" "),a("th",[t._v("所属")]),t._v(" "),a("th",[t._v("数据介绍")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("keyword")]),t._v(" "),a("td",[t._v("字符串")]),t._v(" "),a("td",[t._v("data")]),t._v(" "),a("td",[t._v("搜索栏关键字")])]),t._v(" "),a("tr",[a("td",[t._v("userName")]),t._v(" "),a("td",[t._v("字符串")]),t._v(" "),a("td",[t._v("computed")]),t._v(" "),a("td",[t._v("组件从仓库state中获取的用户名")])])])]),t._v(" "),a("h2",{attrs:{id:"api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api"}},[t._v("#")]),t._v(" API")]),t._v(" "),a("p",[t._v("1、获取搜索结果商品数据")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('地址：/api/list   请求方式：post    需要带参数data\nexport const reqGetSearchInfo = () =>\n  requests({ url: "/list", method: "post", data});\n  \n// 参数data是一个对象，代表搜索条件，内容包含关键字搜索及三级导航列表所选择的属性，两者均可以作为搜索条件的一部分。\n')])])]),a("p",[t._v("2、 退出登录")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('地址：/api/user/passport/logout\t请求方式：get\t无参数\nexport const reqLogout = () =>\n  requests({ url: "/user/passport/logout", method: "get" });\n')])])]),a("h2",{attrs:{id:"vuex"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vuex"}},[t._v("#")]),t._v(" vuex")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("vuex-search：\n1、actions\n1.1、getSearchList\n调用API-获取搜索结果商品数据；服务器返回请求成功，则调用mutations-GETSEARCHLIST\n \n2、mutations\n2.1、GETSEARCHLIST\n将服务器返回的搜索商品结果数据保存到state的searchList中，以供其他组件调用\n\n3、state\nsearchList: {}, \t\t// 搜索结果商品数据，对象\n\n4、getters\ngoodsList\t\t\t\t// 搜索结果子商品数据，数组\t\t\ntrademarkList\t\t\t// 搜索结果子品牌数据，数组\nattrsList\t\t\t\t// 搜索结果子属性数据，数组\n")])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("vuex-users：\n1、actions\n1.1、userLogout\n调用API-退出登录，通知服务器清除token；如果服务器返回请求成功，则调用mutations-CLEAR\n \n2、mutations\n2.1、CLEAR\n用户退出登录，清空仓库与本地的用户信息\n\n3、state\ntoken: getToken(), \t// 用户唯一凭证字符，从本地获取\nuserInfo: {}, \t\t// 用户信息数据\n\n4、getters\n无\n")])])]),a("h2",{attrs:{id:"methods"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#methods"}},[t._v("#")]),t._v(" methods")]),t._v(" "),a("p",[t._v("1、goSearch()\t用户关键字搜索")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("1、参数：无\n\n2、函数内容：\n2.1、获取到用户输入的关键字并做处理，并将其加入到跳转要携带的参数中；\n2.2、如果此时三级导航栏有被选择的参数，将其加入到跳转要携带的参数中；\n2.3、跳转向Search路由组件；\n")])])]),a("p",[t._v("2、logout()\t用户退出登录")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("1、参数：无\n\n2、函数内容：\n2.1、dispatch触发userLogout，等待服务器返回结果；如果结果成功，则跳转向Login登录路由组件；\n2.2、失败则提示失败原因；\n")])])]),a("h2",{attrs:{id:"功能点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#功能点"}},[t._v("#")]),t._v(" 功能点")]),t._v(" "),a("p",[t._v("1、用户关键字搜索")]),t._v(" "),a("p",[t._v("用户输入关键字并点击搜索按钮，调用goSearch方法；然后组件将输入关键字及三级导航栏选中属性加入到跳转要携带的参数中；然后跳转向Search路由组件。")]),t._v(" "),a("p",[t._v("2、用户退出登录")]),t._v(" "),a("p",[t._v("用户点击退出登录按钮，调用logout方法；然后组件触发vuex的userLogout；vuex调用获取搜索结果商品数据的API，向服务器发送请求；服务器返回成功则跳转至Login登录路由组件。")])])}),[],!1,null,null,null);a.default=r.exports}}]);