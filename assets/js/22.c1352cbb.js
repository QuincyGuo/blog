(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{430:function(t,a,e){t.exports=e.p+"assets/img/typenav.c89be6df.jpg"},499:function(t,a,e){"use strict";e.r(a);var s=e(2),r=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"组件介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#组件介绍"}},[t._v("#")]),t._v(" 组件介绍")]),t._v(" "),a("p",[t._v("全部商品的三级导航分类列表。")]),t._v(" "),a("p",[a("img",{attrs:{src:e(430),alt:""}})]),t._v(" "),a("h2",{attrs:{id:"进入离开组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#进入离开组件"}},[t._v("#")]),t._v(" 进入离开组件")]),t._v(" "),a("p",[t._v("1、作为Home路由组件、Search路由组件的子组件固定展示。")]),t._v(" "),a("p",[t._v("2、跳转进入Search路由组件；参数：category1Id 一级分类导航被选择的标签id，category2Id 二级分类的id，category3Id 三级分类的id，categoryName 分类导航选择的分类名")]),t._v(" "),a("h2",{attrs:{id:"生命周期"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#生命周期"}},[t._v("#")]),t._v(" 生命周期")]),t._v(" "),a("p",[t._v("1、mounted ()\t根据当前所处父组件路径，判断是否要默认展开导航栏列表")]),t._v(" "),a("h2",{attrs:{id:"数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据"}},[t._v("#")]),t._v(" 数据")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("名称")]),t._v(" "),a("th",[t._v("数据类型")]),t._v(" "),a("th",[t._v("所属")]),t._v(" "),a("th",[t._v("数据介绍")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("currentIndex")]),t._v(" "),a("td",[t._v("number")]),t._v(" "),a("td",[t._v("data")]),t._v(" "),a("td",[t._v("目前鼠标所悬浮一级类别的索引值")])]),t._v(" "),a("tr",[a("td",[t._v("show")]),t._v(" "),a("td",[t._v("Boolean")]),t._v(" "),a("td",[t._v("data")]),t._v(" "),a("td",[t._v("分类导航列表是否要展开")])]),t._v(" "),a("tr",[a("td",[t._v("categoryList")]),t._v(" "),a("td",[t._v("数组")]),t._v(" "),a("td",[t._v("computed")]),t._v(" "),a("td",[t._v("组件从vuex中获取到的服务器返回的分类导航列表数据")])])])]),t._v(" "),a("h2",{attrs:{id:"api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api"}},[t._v("#")]),t._v(" API")]),t._v(" "),a("p",[t._v("1、获取分类导航列表数据")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('地址：api/product/getBaseCategoryList   请求方式：get    无参数\nexport const reqCategoryList = () =>\n  requests({ url: "/product/getBaseCategoryList", method: "get" });\n\n// 此API是在App.vue中调用，目的是减少每次切换路由组件都要重新发送该请求的资源消耗。\n')])])]),a("p",[t._v("2、 获取搜索结果商品数据")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('地址：/api/list   请求方式：post    需要带参数data\nexport const reqGetSearchInfo = () =>\n  requests({ url: "/list", method: "post", data});\n')])])]),a("h2",{attrs:{id:"vuex"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vuex"}},[t._v("#")]),t._v(" vuex")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("vuex-home：\n1、actions\n1.1、categoryList\n调用API-获取分类导航列表数据；服务器返回请求成功，则调用mutations-CATEGORYLIST\n \n2、mutations\n2.1、GETSEARCHLIST\n将服务器返回的搜索商品结果数据保存到state的searchList中，以供其他组件调用\n\n3、state\ncategoryList: [],\t\t// 分类导航列表数据，数组\n")])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("vuex-search：\n1、actions\n1.1、getSearchList\n调用API-获取搜索结果商品数据；服务器返回请求成功，则调用mutations-GETSEARCHLIST\n \n2、mutations\n2.1、GETSEARCHLIST\n将服务器返回的搜索商品结果数据保存到state的searchList中，以供其他组件调用\n\n3、state\nsearchList: {}, \t\t// 搜索结果商品数据，对象\n\n4、getters\ngoodsList\t\t\t\t// 搜索结果子商品数据，数组\t\t\ntrademarkList\t\t\t// 搜索结果子品牌数据，数组\nattrsList\t\t\t\t// 搜索结果子属性数据，数组\n")])])]),a("h2",{attrs:{id:"methods"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#methods"}},[t._v("#")]),t._v(" methods")]),t._v(" "),a("p",[t._v("1、goSearch(event)\t用户点击分类导航列表搜索")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("1、参数：event\n\n2、函数内容：\n2.1、获取到用户点击的标签节点，判断其是否是负责跳转的标签；如果是则获取到标签上需要加入跳转参数的属性，并将其加入到跳转要携带的参数中\n2.2、如果此时搜索栏有被关键字参数，将其加入到跳转要携带的参数中；\n2.3、跳转向Search路由组件；\n\n// 此处用到了事件委派/代理：\n也就是，当父组件内的很多子标签都需要添加同一事件时，不是给每个链接标签添加事件，而是给父标签添加路由跳转事件。把所有的子标签节点的事件委派给父节点。\n那么，会有两个问题：\n1、父标签里存在不需要响应事件的子标签，如何识别？\n2、如何获取子标签属性以传递参数？\n解决方法：\n1、给要响应事件的子标签加上自定义属性和值，比如：\n<a :data-categoryName='c1.categoryName' :data-category1Id='c1.categoryId'>{{c1.categoryName}}</a>\n<a :data-categoryName='c2.categoryName' :data-category2Id='c2.categoryId'>{{c2.categoryName}}</a>\n2、事件的回调函数内，根据节点有无自定义属性进行判断，同时还能获取到自定义属性的属性值\nevent.target.dataset;\n每个标签节点都有dataset属性，其内容是节点的自定义属性和值。数据类型是对象。\n")])])]),a("p",[t._v("2、changeIndex(index)\t鼠标进入分类导航一级列表，切换当前列表属性")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("1、参数：index 当前一级列表的索引值\n\n2、函数内容：\n2.1、更改data-currentIndex，改为目前鼠标所悬浮的一级类别的索引值\n")])])]),a("p",[t._v("3、changeIndexLeave()\t鼠标离开整个分类导航列表时，切换当前列表属性")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("1、参数：无\n\n2、函数内容：\n2.1、更改data-currentIndex，改为-1\n")])])]),a("p",[t._v("4、enterShow()\t鼠标进入分类导航列表标题，展开列表")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("1、参数：无\n\n2、函数内容：\n2.1、更改data-show，改为true，展开分类导航列表。\n")])])]),a("p",[t._v("5、leaveShow()\t鼠标离开分类导航列表，合上列表")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("1、参数：无\n\n2、函数内容：\n2.1、更改data-show，改为false，合上分类导航列表。\n")])])]),a("h1",{attrs:{id:"功能点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#功能点"}},[t._v("#")]),t._v(" 功能点")]),t._v(" "),a("p",[t._v("1、页面数据动态展示")]),t._v(" "),a("p",[t._v("APP组件在mounted阶段，调用vuex的categoryList；vuex调用获取分类导航列表数据的API，向服务器发送请求；服务器返回成功则将返回的data保存到state中；本组件的computed获取vuex-state数据，并保存为计算属性；页面在展示时，使用相应的属性即可。")]),t._v(" "),a("p",[t._v("2、用户点击商品分类导航搜索")]),t._v(" "),a("p",[t._v("用户点击商品分类导航内某一分类，调用goSearch方法；然后组件将输入关键字及分类导航选中属性加入到跳转要携带的参数中；然后跳转向Search路由组件。")]),t._v(" "),a("p",[t._v("3、用户鼠标进入/离开分类导航")]),t._v(" "),a("p",[t._v("用户鼠标进入/离开分类导航，调用changeIndex/changeIndexLeave/enterShow/leaveShow事件，更改data-currentIndex、data-show属性值。")])])}),[],!1,null,null,null);a.default=r.exports}}]);